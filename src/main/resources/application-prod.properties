# Production (MySQL) - 用于Docker部署
# 使用 'mysql' 作为主机名，因为使用了 --link owlsgame-db:mysql
spring.datasource.url=jdbc:mysql://mysql:3306/owlsgame_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.username=root
spring.datasource.password=RootRoot##
# 生产环境使用 update 允许自动更新数据库结构
spring.jpa.hibernate.ddl-auto=update

# 初始化数据库数据 - 生产环境首次部署时执行
spring.sql.init.mode=always
spring.jpa.defer-datasource-initialization=true

# MySQL配置 - 生产环境不需要引号标识符
spring.jpa.properties.hibernate.globally_quoted_identifiers=false

# 生产环境日志级别 - 设置为INFO级别
logging.level.org.springframework.web=INFO
logging.level.org.OwlsGame=INFO

# 邮件配置 - 生产环境邮件设置（可在Jenkins中通过环境变量覆盖）
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=
spring.mail.password=
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.timeout=8000
spring.mail.properties.mail.smtp.connectiontimeout=5000

# 生产环境错误处理 - 不暴露敏感信息
server.error.include-stacktrace=never
server.error.include-message=never