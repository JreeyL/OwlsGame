<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <title>Reset Password</title>
</head>
<body>
<div class="w3-panel w3-center w3-xxlarge">Recovery Account Form</div>
<br>

<div class="w3-panel w3-yellow w3-round-large w3-border w3-center w3-text-large w3-text-black">
    <h4>Please, provide your email to reset your password! The instructions will be sent to your email address!</h4>
</div>
<hr>
<br>
<!-- 错误信息显示区域 -->
<div id="errorMessage" class="w3-panel w3-red w3-round-large w3-center" style="display: none;">
    <p id="errorText"></p>
</div>

<!-- 成功信息显示区域 -->
<div id="successMessage" class="w3-panel w3-green w3-round-large w3-center" style="display: none;">
    <p id="successText"></p>
</div>

<form action="/submit-reset" method="post" id="resetForm">
    <br>
    <div class="w3-panel w3-center w3-round-large w3-white w3-padding-32">
        <div class="email"><br>
        </div>
        <label for="email" class="w3-large w3-center">Forgot Password?</label><br>
        <br>
        <br>
        <input class="w3-center w3-round-large w3-padding-large" type="email" id="email" name="email" placeholder="Insert your email!" autocomplete="email" required><br>
        <br>
        <br>
        <br>
        <input type="submit" value="SUBMIT" class="w3-btn w3-green w3-round-large w3-large">
        <br>
    </div>
</form>
<br>

<!-- 添加JavaScript处理URL参数和显示错误消息 -->
<script>
    // 获取URL参数
    function getUrlParameter(name) {
        name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
        var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
        var results = regex.exec(location.search);
        return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
    }

    // 页面加载时检查是否有错误或成功消息
    window.onload = function() {
        var error = getUrlParameter('error');
        var success = getUrlParameter('success');

        if (error && error !== '') {
            document.getElementById('errorText').innerText = error;
            document.getElementById('errorMessage').style.display = 'block';
        }

        if (success && success !== '') {
            document.getElementById('successText').innerText = success;
            document.getElementById('successMessage').style.display = 'block';
        }
    };
</script>

</body>
<footer>
    <p class="w3-panel w3-center w3-teal w3-medium"> Created by Owls Games - 2025</p>
</footer>
</html>